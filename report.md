# 51115113

## 作業一

### 1. 解題說明

本題目要求撰寫一個遞迴函式來計算從 $1$ 加到 $n$ 的總和。

#### 解題策略

- 將總和表示為：$\text{sum}(n) = n + \text{sum}(n-1)$。
- 設定終止條件為 $n \leq 1$，直接返回 $n$。
- 透過遞迴呼叫的方式逐步累加至 $1$ 為止。
- 主程式呼叫該函式並印出結果。

---

### 2. 程式實作

```cpp
#include <iostream>
using namespace std;

int recursive_sum(int n) {
    if (n < 0)
        throw "Invalid input: n must be non-negative";
    if (n <= 1)
        return n;
    return n + recursive_sum(n - 1);
}

int main() {
    int n = 4;
    int result = recursive_sum(n);
    cout << result << '\n'; // Output: 10
}
```

---

### 3. 效能分析

#### 時間複雜度

每次呼叫 `recursive_sum(n)` 都會再呼叫 `recursive_sum(n-1)` 一次，因此總共會呼叫 $n$ 次。

- 時間複雜度為：$\boxed{O(n)}$

#### 空間複雜度

每次呼叫都會佔用一次呼叫堆疊，因此最多會有 $n$ 層呼叫堆疊。

- 空間複雜度為：$\boxed{O(n)}$

---

### 4. 測試與驗證

#### 測試案例表

| 測試編號 | 輸入 $n$ | 預期輸出 | 實際輸出 |
|----------|----------|----------|----------|
| 測試一   | n=0        | 0        | 0        |
| 測試二   | n=1        | 1        | 1        |
| 測試三   | n=4        | 10       | 10       |
| 測試四   | n=5        | 15       | 15       |
| 測試五   | n=-2       | 拋出例外  | 拋出例外 |

#### 編譯與執行指令

```shell
$ g++ -std=c++17 -o sum sum.cpp
$ ./sum
10
```

---

### 5. 申論及開發報告

#### 為何選用遞迴

- 本題最適合用遞迴表達其數學本質。
- 使用遞迴可以自然地將問題切分為「目前的 $n$」與「剩下 $1$ 到 $n-1$ 的總和」，符合 divide-and-conquer 思維。
- 不需使用迴圈與額外變數，使得程式更精簡。

#### 遞迴的優勢

- 可讀性高，接近數學定義。
- 每次遞迴呼叫即為一個子問題解，返回時自然累加。
- 能加深對遞迴基本原理的理解，適合資料結構的學習初期。

> 若輸入數字過大，可能因遞迴堆疊過深而導致 Stack Overflow，實務上可考慮使用迴圈方式改善，但本作業限制為純遞迴實作。

---
## 效能分析

1. **時間複雜度**：  
   遞迴函式 `sigma(n)` 每次呼叫都將 $n$ 減少 1，直到達到基底條件。因此，總共會呼叫 $n+1$ 次，時間複雜度為 $O(n)$。

2. **空間複雜度**：  
   每次遞迴呼叫都會佔用堆疊空間，最多遞迴 $n+1$ 層，因此空間複雜度亦為 $O(n)$。


## 測試與驗證

### 測試案例

| 測試編號 | 輸入 $n$ | 預期輸出 | 結果是否正確 |
|----------|----------|-----------|----------------|
| 測試 1   | n=0        | 0         |  是           |
| 測試 2   | n=1        | 1         |  是           |
| 測試 3   | n=4        | 10        |  是           |
| 測試 4   | n=10       | 55        |  是           |
| 測試 5   | n=-3       | 拋出例外   |  是           |

### 執行方式（命令列）

```bash
g++ -std=c++17 -o sigma sigma.cpp
./sigma
```


## 申論及開發報告

在本題中，我們選擇使用**遞迴**來實作數列總和，原因如下：

1. **遞迴與數學定義一致**  
   本題的遞迴公式 $ext{Sum}(n) = n + 	ext{Sum}(n-1)$ 與數學定義相符，使得程式邏輯清楚、簡潔。

2. **撰寫方便，結構直觀**  
   遞迴能夠將問題拆解為子問題，每層遞迴只需要處理當前的 $n$ 值，無須維護額外的迴圈變數或暫存變數。

3. **適合教學用途**  
   透過簡單的例子，如整數加總，可以有效幫助初學者理解遞迴的概念與運作流程。

4. **遞迴缺點與限制**  
   雖然遞迴表達力強，但若 $n$ 過大，仍可能導致堆疊溢位，因此實務上應根據輸入大小評估是否改用迴圈。
